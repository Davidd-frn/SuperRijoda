<!DOCTYPE html>
<html>
  <head>
    <title>Super Rijoda</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="ressources/css/game.css" />
  </head>
  <body>
    <div>
      <a href="description.html" class="backBtn secondary">Back to Homepage</a>
    </div>

    <div class="button-container">
      <a id="startGameBtn" href="#" class="btn">Start Game</a>
      <a id="leaderboardBtn" href="#" class="btn secondary">Leaderboard</a>
      <a href="commands.html" class="btn secondary">Commands</a>
    </div>

    <!-- Character selection overlay -->
    <div id="characterSelect" class="overlay" hidden>
      <div class="modal-box select">
        <h1>Choose Your Character</h1>
        <p class="select-subtitle">
          Pick a style, then drag & drop it into the slot. Set your name first.
        </p>

        <div class="identity-block">
          <label class="identity-label" for="playerName">Username</label>
          <div class="identity-row">
            <input
              id="playerName"
              name="playerName"
              type="text"
              maxlength="20"
              placeholder="Your name"
            />
            <img
              id="geoFlag"
              class="geo-flag"
              hidden
              width="24"
              height="18"
              alt="Country flag"
              title="Country flag"
            />
          </div>
          <div class="geo-row">
            <div id="geoStatus" class="geo-status">Detecting location...</div>
          </div>
        </div>

        <div class="character-grid">
          <button
            class="character-card"
            data-character="samurai"
            draggable="true"
            data-preview="ressources/images/mockup/Samurai.png"
            data-filter="none"
            data-cols="4"
            data-rows="3"
          >
            <div class="character-art">
              <img
                src="ressources/images/mockup/Samurai.png"
                alt="Samurai preview"
              />
              <span class="swatch neutral"></span>
            </div>
            <div class="character-meta">
              <span class="character-name">Samurai</span>
              <small>Balanced all-rounder.</small>
            </div>
          </button>

          <button
            class="character-card"
            data-character="ronin"
            draggable="true"
            data-preview="ressources/images/mockup/Samurai.png"
            data-filter="hue-rotate(-18deg) saturate(1.15)"
            data-cols="4"
            data-rows="3"
          >
            <div class="character-art">
              <img
                src="ressources/images/mockup/Samurai.png"
                alt="Crimson Ronin preview"
              />
              <span class="swatch crimson"></span>
            </div>
            <div class="character-meta">
              <span class="character-name">Crimson Ronin</span>
              <small>Stronger attacks, bold hue.</small>
            </div>
          </button>

          <button
            class="character-card"
            data-character="shadow"
            draggable="true"
            data-preview="ressources/images/mockup/Samurai.png"
            data-filter="hue-rotate(170deg) saturate(1.25)"
            data-cols="4"
            data-rows="3"
          >
            <div class="character-art">
              <img
                src="ressources/images/mockup/Samurai.png"
                alt="Shadow Shinobi preview"
              />
              <span class="swatch shadow"></span>
            </div>
            <div class="character-meta">
              <span class="character-name">Shadow Shinobi</span>
              <small>Lighter build, stealth vibe.</small>
            </div>
          </button>
        </div>

        <div class="drop-area">
          <div class="drop-label">Drag a card into the drop slot</div>
          <div id="characterDropSlot" class="drop-slot" aria-live="polite">
            Drop character here
          </div>
          <div id="characterDropSelected" class="drop-selected" hidden></div>
          <div id="characterPreview" class="drop-preview" hidden>
            <div id="characterPreviewFrame" class="frame-preview"></div>
            <div class="drop-preview-label">
              <span id="characterPreviewName"></span>
            </div>
          </div>
        </div>

        <div class="character-actions">
          <button id="confirmCharacter" class="btn primary disabled" disabled>
            Play
          </button>
          <button id="closeCharacterSelect" class="btn secondary">
            Cancel
          </button>
        </div>
      </div>
    </div>
  <!-- Leaderboard Modal -->
  <div id="leaderboardModal" class="overlay" hidden>
    <div class="modal-box select">
      <h1>Leaderboard</h1>
      <div id="leaderboardList" class="leaderboard-list"></div>
      <button id="leaderboardClose" class="btn secondary">Close</button>
    </div>
  </div>
  </body>
  <script src="ressources/js/geo.js"></script>
  <script src="ressources/js/script.js"></script>
</html>
